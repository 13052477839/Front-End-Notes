# chapter 5

## 伪协议
```javascript
可以用来链接JavaScript函数的伪协议： javascript:
用法
<a href="javascript:function_name(parameter)"></a>
```
但是这种做法非常不好

## 平稳退化
当浏览器禁用了JavaScript之后，网页也可以正常运行。
这种平稳退化更多是面向搜索引擎的爬虫，如果在`html中直接内嵌JavaScript`代码可能导致搜索排名的下降。

## 渐进增强
## 向后兼容
网页设计时应考虑到旧版浏览器的解析能力。

### 对象检测
向后兼容的一种最简单的解决方案。
```javascript
if (method) {
    //statements
}
```
但是这个方案的不足是：如果存在检测多个方法或者属性，就会出现非常多的嵌套或者检测语句，让代码显得臃肿难读。

### 浏览器嗅探技术
除了检测对象是否存在，还可以使用`浏览器嗅探(browser snifung)`。
通过检索浏览器的品牌和版本来改善JS的向后兼容性。
但是有风险，因为浏览器有时候信息并不标准，而且浏览器的版本迭代更新导致这个实现起来更难。

## 性能考虑
为了web的流畅性，应该考虑一些问题。

### 减少DOM访问和减少标记
每次DOM查询，都会历遍整个DOM树，所以减少DOM操作非常有必要。
可以用变量存储必要的DOM查询。
另外减少文档中标记数量可以减少DOM tree的规模，减少DOM操作的遍历时间。

### 合并和放置脚本

* 合并脚本可以减少HTTP请求的次数。
* 脚本放置到`<head>`中会导致浏览器无法并行加载其他文件。
```javascript
因为根据HTTP规范，浏览器每次从同一个域名中最多能同时下载两个文件。
但是下载脚本的期间，浏览器不会下载其他任何文件，即便是不同域名的文件页不会下载。
```
### 压缩脚本
压缩脚本是吧脚本文件中不必要的字节统统删除，从而到达压缩的目的。
```
JSMin
YUICompressor
Closure Compiler
```



